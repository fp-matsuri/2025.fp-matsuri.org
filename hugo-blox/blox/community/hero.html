{{/* Hugo Blox: Hero */}}
{{/* Documentation: https://hugoblox.com/blocks/ */}}
{{/* License: https://github.com/HugoBlox/hugo-blox-builder/blob/main/LICENSE.md */}}

{{/* Initialise */}}
{{ $page := .wcPage }}
{{ $block := .wcBlock }}

<div class="relative isolate px-6 lg:px-8 flex flex-col relative matsuri-hero">

  {{ if $block.content.announcement }}
  <div style="flex: 0px 1 1"></div>
  {{ end }}

  <div class="mx-auto max-w-2xl">
    <div class="text-center mb-2">
      {{ with $block.content.title }}<h1 class="text-5xl sm:text-7xl tracking-tight text-gray-900 dark:text-gray-100">{{ . | markdownify }}</h1>{{end}}
    </div>

    {{ if $block.content.date.text }}
    {{ $date := $block.content.date }}
    <div class="mb-8 flex justify-center">
      <div class="relative px-3 py-1 text-md sm:text-2xl leading-6 text-gray-600 dark:text-gray-300 matsuri-text-title">
        {{$date.text | markdownify}} {{if $date.link.text}}<a href="{{$date.link.url}}" class="font-semibold text-primary-600 dark:text-primary-300"><span class="absolute inset-0" aria-hidden="true"></span>{{$date.link.text}} <span aria-hidden="true">&rarr;</span></a>{{end}}
      </div>
    </div>
    {{ end }}

  </div>

  {{ if $block.content.announcement }}
    <div style="flex: 2rem 1 1">
      {{ $announcement := $block.content.announcement }}
      <div class="flex justify-center pt-6">
        <div class="text-sm sm:text-md text-white p-4 pt-0 rounded-md" style="background-color: rgba(255,255,255,0.1)">
          <h3 class="my-4">{{ $announcement.text }}</h3>
          {{ range $announcement.links }}
            <a class="mt-2 matsuri-hero-message-button" style="display: block" href="{{.href}}" target="_blank" rel="noreferrer">{{.text}}</a>
          {{ end }}
        </div>
      </div>
    </div>
  {{ end }}

  <div class="flex justify-center" style="position: absolute; bottom: 0px; left: 0px; right: 0px;">
    <div class="flex matsuri-hero-links">
      {{ range $block.content.links }}
        <a class="text-2xl rounded-full flex matsuri-hero-links-button" style='color: rgb(var(--color-primary)); background: rgba(222 227 237 / 0.4); padding: {{(.padding | default "0px")}}' href="{{.href}}" target="_blank">
          {{ partial "functions/get_icon" (dict "name" .icon "attributes" "style=\"height: 100%\"") }}
        </a>
      {{ end }}
    </div>
  </div>
</div>
